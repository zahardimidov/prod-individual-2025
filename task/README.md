# PROD Backend 2025 Рекламная платформа 

## Описание
В IT-индустрии многие компании зарабатывают на рекламе. Раньше реклама существовала только в физическом мире, но за
последние 20 лет она активно перешла в цифровые форматы. Вам предлагается создать стартап в инкубаторе PROD, который
будет заниматься показом рекламы и эффективным размещением рекламных объявлений.

Ваша задача — разработать рекламный движок, который будет показывать пользователям наиболее подходящую рекламу,
учитывать запросы партнеров и при этом приносить максимальную прибыль вашему стартапу. Например, если пользователю
доступно несколько рекламных баннеров, нужно отобразить тот, который принесет больше дохода, будет наиболее релевантен
для пользователя и поможет рекламодателю привлечь больше клиентов.

В отличие от второго этапа, критерии здесь будут менее формальными. Они разделены на две части: обязательные и
опциональные. Вам нужно с нуля разработать целевую систему, в которой мы оценим работоспособность, качество кода,
архитектуру и вашу креативность.

## Общие требования к проекту

* Все изменения должны быть строго в директории `solution`. Любые другие файлы за пределами директории `solution` изменять запрещено.
* Разработка приложения происходит с помощью технологии git. Оценивается версия приложения, загруженная в приватный
  репозиторий организации до дедлайна.
* Для разработки приложения доступны любые языки программирования, главное чтобы вы могли создать работающий docker
  образ и запустить всю систему через docker-compose.
* Для реализации обязательных требований из задания необходимо строго использовать openapi.yaml файл из корня репозитория
* Разработчик проекта самостоятельно выбирает стек и технологии для разработки.
* В папке `solution` должен находиться файл docker-compose.yml, с помощью которого происходит сборка (Dockerfile) и
  запуск приложения и его зависимостей. Ваша система должна корректно запускаться командой docker-compose up \-d из
  папки `solution`
* Данные пользователей должны сохраняться в СУБД. Разработчик самостоятельно выбирает набор нужных зависимостей (
  PostgreSQL, sqlite, MySQL, redis, cassandra, S3, rabbitmq и другие). Главное, чтобы этот выбор был оправдан, а
  зависимости корректно запускались с помощью docker compose.
* В README проекта находится документация: инструкция по сборке, сценарии использования, описание логики работы и
  описание интеграции со сторонними решениями.
* При использовании секретов, например для интеграции с LLM из опциональных требований необходимо прописывать их в
  docker-compose файле в блоке env вашего контейнера. Важно помнить что такой способ не является правильным, а скорее
  наоборот нежелательным, но это формат олимпиады и нам нужно как-то проверить ваши решения, в реальных проектах так
  делать не стоит.
* Валидация полностью настраивается вами и должна настраиваться на такие вещи, как даты и null, можно сделать валидацию на пол и возраст, проверять длину и значения полей не нужно.
* Для проекта есть ограничение на кол-во docker образов, можно запустить не больше 15
* Ваши приложения будут тестироваться на машинах, с объемом оперативной памяти в 8Гб.
* В задании есть openapi, но он не полный, а примерный, ваша задача самим продумать как реагировать в случае ошибок и отдавать
нужные коды ответа, которые соответствуют концепции REST

## Критерии оценивания 
Оценка работ будет проводиться опытными инженерами, разрабатывающие лучшие IT продукты на рынке, они будут оценивать ваш
код, архитектуру и тестировать систему на наличие багов. Поэтому для получения наибольшего количества баллов помимо
разработки системы, мы включили в критерии документирование, настоятельно просим описать запуск и ваш проект так, чтобы
проверяющим было проще проверить то, что вы реализовали.

| Направление                                      | Группа                                                | Максимальный балл |
|:-------------------------------------------------|:------------------------------------------------------|:------------------|
| **Обязательные функциональные требования `50%`** |                                                       | **28**            |
|                                                  | **Управление данными пользователей и рекламодателей** | **3**             |
|                                                  | **Управление рекламными кампаниями**                  | **3**             |
|                                                  | **Показ рекламных объявлений пользователям**          | **15**            |
|                                                  | **Отображение статистики по кампаниям и клиентам**    | **3**             |
|                                                  | **Настройка таргетирования рекламы**                  | **3**             |
|                                                  | **Метод инкремента дня для тестирования**             | **1**             |
| **Опциональные функциональные требования `20%`** |                                                       | **15**            |
|                                                  | **Добавление изображений в рекламных объявлениях**    | **3**             |
|                                                  | **Визуализация статистики**                           | **3**             |
|                                                  | **Интеграция с tg ботом**                             | **3**             |
|                                                  | **Модерация текстов рекламных кампаний**              | **3**             |
|                                                  | **Интеграция с LLM для генерации рекламных текстов**  | **3**             |
| **Документация `10%`**                           |                                                       | **7**             |
|                                                  | **Инструкция по запуску приложения**                  | **1**             |
|                                                  | **Демонстрация работы приложения**                    | **2**             |
|                                                  | **Схема данных СУБД**                                 | **2**             |
|                                                  | **Описание работы основных точек входа**              | **2**             |
| **Тестирование `10%`**                           |                                                       | **6**             |
|                                                  | **Наличие юнит тестов**                               | **3**             |
|                                                  | **Наличие e2e тестов**                                | **3**             |
| **Чистота кода `5%`**                            |                                                       | **3**             |
| **Обоснованность решения `5%`**                  |                                                       | **3**             |
| **Итого**                                        |                                                       | **62**            |

## Обязательные функциональные требования

### Управление данными пользователей и рекламодателей 
Ваша система будет показывать рекламу клиентам, которую будут настраивать и запускать рекламодатели, поэтому необходимо
реализовать возможность регистрировать клиентов и рекламодателей в вашей системе.

Все ID рекламодателей и пользователей задаются из вне системы и должны быть уникальными.

Чтобы ваш стартап был супер крутым, команда организаторов решила немного помочь вам и сделать ML модель, которая
генерирует скоры релевантности конкретного клиента к рекламодателю. ML скор \- это просто целое число по паре значений
client\_id (ID клиента), advertiser\_id (ID рекламодателя), которое чем больше, тем выше релевантность. ML модель
постоянно обновляются, так как в нее поступают свежие данные о действиях клиента, и нам хотелось бы отправлять ML скоры
к вам в систему, но для этого вам необходимо будет реализовать REST API.

Для получения клиентов, рекламодателей и скоров в вашей системе реализуйте REST API со следующими методами:

1. Добавление списка пользователей
2. Добавление списка рекламодателей
3. Получение пользователя по ID
4. Получение рекламодателя по ID
5. Добавление ML скоров по рекламодателям и клиентам

Атрибуты клиента

* ID пользователя UUID
* Логин в системе
* Возраст
* Название локации (метка, которая может быть как городом, регионом, так и небольшим районом, пример “Сахалин”, “Метро
  Белорусская”, “Екатеринбург” и др.)
* Пол

Атрибуты рекламодателя

* ID рекламодателя UUID
* Название

Атрибуты ML скоров

* ID пользователя
* ID рекламодателя
* ML скор

Важно, что все ID пользователей и ID рекламодателей должны быть строго заданы в запросах на добавление.

В методах не нужно реализовывать аутентификацию и авторизацию. В реальных промышленных системах важно было бы сделать и
аутентификацию и авторизацию, но для того, чтобы вы смогли сконцентрироваться на более сложной логике мы опустили этот
функционал.

### Управление рекламными кампаниями (объявлениями) 
В контексте задания рекламные кампании \- это настройки кампании, которую запускает рекламодатель, в настройках он
указывать данные объявления, которые увидит пользователь, когда увидит рекламу.  
У рекламодателя есть возможность создавать, обновлять и удалять рекламные кампании и смотреть все, которые он создал.
Реализуйте REST API, который позволит это делать и будет иметь следующие методы:

* Создание рекламной кампании
* Обновление рекламной кампании
* Получение рекламной кампании по ID
* Получение списка рекламных кампаний с пагинацией
* Удаление рекламной кампании по ID

Он может задавать в кампании следующие настройки:

* количество показов объявления (в момент входа пользователя в приложение ему показывает реклама, это и считает *
  *показом**) Не может меняться после старта рекламной кампании.
* количество переходов по объявлению (в момент, когда пользователь кликает по объявлению, которое ему высветилось
  происходит **переход**). Не может меняться после старта рекламной кампании.
* цену за 1 показ
* цену за 1 переход
* название объявления
* текст рекламного объявления
* дата начала действия включительно. Не может меняться после старта рекламной кампании и не может быть в прошлом, но
  может быть текущим днем
* дата окончания действия включительно. Не может меняться после старта рекламной кампании и не может быть в прошлом, но
  может быть текущим днем

Старт рекламной кампании означает, что текущая дата в системе больше либо равна дате начала рекламной кампании.
Окончание рекламной кампании означает, что текущая дата в системе больше даты окончания рекламной кампании.

В методах создания и обновления необходимо возвращать данные по созданному или обновленному рекламному объявлению.

Рекламные объявления могут показываться пользователям, только в даты их действия, которые задаются в настройках.

Важно, что показы и переходы учитываются только по уникальным клиентам, то есть если один клиент посмотрел на объявление
2 раза, то для рекламодателя это 1 показ.

### Настройка таргетирования рекламы
Здорово, что у вас будет умная ML модель, которая выдает релевантность от клиента к рекламодателю, но, как и все ML
алгоритмы, модель работает с определенной точностью и к сожалению не сможет на 100 процентов точно учитывать локацию пол
и возраст клиентов, кроме того ML модель не знает о желаниях рекламодателя например запустить рекламу только на
определенный район или город или только на мужчин или женщин.

Для этого необходимо добавить возможность таргетирования по клиентским данным: пол, возраст и локация. Добавьте в ваш
методы создания и обновления рекламной кампании возможность указания таргетирования.

Атрибуты таргетирования

* пол \- (MALE, FEMALE, ALL)
* возраст от которого показывать объявления (включительно)
* возраст до которого показывать объявления (включительно)
* локация \- метка локации, клиенты которой должны иметь возможность видеть объявление. По факту это просто строка,
  например Moscow или metroBelarusskaya. То есть если ключен таргетинг объявления по локации, то это объявление могут
  видеть только те клиенты, у которых эта метка location полностью совпадает с меткой location из рекламного объявления

Учитывайте атрибуты клиента при показе рекламы, сопоставляя с параметрами таргетирования из настроек кампании.

При указании таргетирования в настройках рекламного объявления необходимо показывать объявление только тем клиентам, у
которых возраст попадает в допустимые границы, локация полностью совпадает и пол попадает под возможный.

### Показ рекламных объявлений пользователям  
Как только пользователь заходит в какое-нибудь место в приложении, UI (вымышленный) будет вызывать ваш REST endpoint,
который должен будет возвращать объявление, которое будет видеть клиент. Другими словами, вам на вход подается ID клиент
и вам необходимо вернуть для него рекламное объявление, которое он должен увидеть, с учетом настроек, которые ввел
рекламодатель. Какое именно рекламное объявление вернуть решаете только вы и ваш алгоритм.

Показать рекламу на первый взгляд очень просто, но вам как новому стартапу в рамках PROD инкубатора хочется сделать
алгоритм, который сможет зарабатывать больше денег, чем рекламные движки конкурентов и при этом показывать релевантную
рекламу пользователям, а также удовлетворять требования рекламодателей.

При показе рекламы задача вашего алгоритма будет заключаться в максимизации оценки, которая разбивается на следующие
показатели:

| Название метрики                             | Описание                                                                                                                   | Вес в итоговой оценке |
|:---------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------|:----------------------|
| Прибыль платформы                            | Сумма по всем всем показам и переходам, помноженные на соответствующие цены за показы и переходы.                          | 0.5                   |
| Релевантность рекламы                        | Соответствие объявлений интересам пользователей. Средний ML скор пользователей по всем показам.                            | 0.25                  |
| Выполнение показов и переходов рекламодателя | Точность выполнения лимитов. Отношение количества фактических показов и переходов к заданному в настройках рекламодателем. | 0.15                  |
| Скорость работы                              | Среднее время ответа запроса в мс.                                                                                         | 0.1                   |

Но при этом есть штрафы за ошибки, которые могут огорчить ваших пользователей и рекламодателей:

* Превышение лимитов показов \-5% за каждые 5% показов сверх лимита
* Ошибки API метода \-5% за каждые 100 ошибок. 500 ошибки при вызове метода
* Ошибки таргетирования: \-10% за каждый случай (При условии, что фича реализована)

Итоговая оценка работы данного пункта вычисляется, как взвешенная сумма нормализованных значений метрик.

Вам нужно реализовать следующие REST API методы

* Получение рекламного объявления по клиенту. В ответе должны возвращаться следующие поля
    * ID объявления
    * Название объявления
    * Рекламный текст
    * ID рекламодателя
* Фиксация перехода клиента по рекламному объявлению. Метод ничего не должен возвращать, а нужен только для вас, чтобы
  вы фиксировали событие перехода и смогли отобразить в статистике

Первый метод просто возвращает рекламное объявление, а второй будет вызываться в тот момент, когда пользователь будет
кликать в карточку объявления и переходить в него, этот метод фиксирует переходы клиента.

Тестирование всех решений будет проводиться на одних и тех же тестовых данных с использованием одной тестирующей
системы, которая будет использовать ваше API для создания рекламных кампаний и затем эмулировать работу и просмотр
рекламы.

### Отображение статистики по объявлениям и клиентам  
Все предыдущие фичи позволяют пользователям получать классную релевантную рекламу, а рекламодателям приходить к вам и
закупать рекламу. Но, как и в любом процессе хочется иметь понимаем что в нем происходит. Например, вы заказываете пиццу и
хотите знать какой там сейчас статус заказа, она еще готовится или ее еще не начала готовиться, возможно ее везет курьер
и т.д.. Подобно этому ваши рекламодатели хотят знать сколько человек посмотрели рекламу, а сколько человек перешли, как
эти показы и переходы выглядят в каждый отдельный день и др.

Ваша задача сделать API для получения такой информативной статистики. Важно чтобы статистика показывала общие значения
по каждому отдельному рекламному объявлению, метрики по всем рекламным объявлениям сразу, метрики по каждому дню в
разрезе отдельного объявления, так и всех вместе.

Реализуйте следующие API методы

* Получение статистики по ID рекламному объявлению
* Получение статистики по всем рекламным объявлениям рекламодателя.
* Получение ежедневной статистики по ID рекламного объявления
* Получение ежедневной статистики по всем рекламным объявлениям рекламодателя

Атрибуты статистики:

* Количество показов
* Количество переходов
* Конверсия из показа в переход (Количество переходов / Количество показов \* 100%)
* Сумма денег, потраченная на показы
* Сумма денег, потраченная на переходы
* Сумма денег, потраченная всего

Атрибуты ежедневной статистики абсолютно такие же, но возвращаются в виде массива, с добавленным полем даты, за которую
собралась статистика.

Небольшая подсказка. Помните что в рамках рекламной кампании рекламодатель может увеличить или уменьшить ставку за клик,
поэтому учитывайте это в статистике.

### Тестирование системы и установка текущей даты 
Для тестирования всей системы нам необходимо будет эмулировать действия рекламодателей и клиентов во времени. Поэтому мы
просим вас сделать в самом начале очень простой REST API для того, чтобы мы могли устанавливать номер дня, прямо как в
игре «Герои 3».

День — это просто целое неотрицательное число, которое мы задаем сами через ваш метод и которое хранится у вас в СУБД.
Эти же дни вам необходимо будет принимать в настройках рекламного объявления. Другими словами, дата начала и окончания
рекламной кампании. Мы будем задавать в днях, например от 1 до 7 или от 9 до 10 и т. д. Мы гарантируем, что во всех тестах
дни будут задаваться в строго возрастающей последовательности, то есть мы устанавливаем день 777 и каждый следующий
точно будет больше предыдущего.

Вам нужно будет везде при отдаче статистики, показе рекламы и валидациях учитывать этот день. (Подсказка: стоит его
кэшировать, а не ходить в СУБД.)
Без этого API мы не сможем тестировать вашу систему, поэтому обязательно добавьте его. Также, если вы реализуете его некорректно и, например, метод будет сохранять не тот день, то мы это поймаем на тестах и вы не сможете пройти другие
тесты.

По умолчанию установите дату в 0 день.

Тестирование системы будет выглядеть следующим образом:

* В самом начале мы вызываем метод установки дня и current\_day \= 1
* Регистрируем рекламодателей, создаем рекламные кампании и пользователей, передаем ML скоры в систему
* Вызываем методы показа рекламы, получения статистики.
* Можем обновить ML скоры, изменить цены за клики и показы
* Снова вызываем методы показа рекламы и получения статистики
* Вызываем метод установки дня current\_day \= 2 и начинаем все сначала.

При проверке мы сами посчитаем итоговую оценку по методу показа рекламы и нормируем ее на баллы за этот блок.

## Опциональные функциональные требования
Для дальнейшего развития проекта и развития вашей креативности и навыков предлагаем вам реализовать опциональные
требования. Здесь почти нет четких правил и ограничений, главное — чтобы все запускалось в docker-compose и проверяющие
могли это оценить.

### Настройка изображений в рекламных объявлениях
Чтобы клиенты охотнее переходили по рекламным объявлениям, здорово было бы добавить в него изображение. Придумайте
возможность добавления изображения в рекламное объявление и то, как и где вы будете его хранить. Для добавления данной
функциональности можно добавлять в контракт методов работы с рекламными объявлениями новые поля, но удалять старые
запрещено. Также можете добавить новые методы для работы с изображениями.

### Визуализация статистики 
Вы разрабатываете backend-приложение, но круто было бы визуализировать статистику. Для этого предлагаем вам поднять в
docker-compose средство визуализации данных, например Grafana или apache superset, и настроить в нем дашборды для
визуализации аналитики. Какие графики строить — решать вам.

### Интеграция с telegram ботом  
Вы разработали стартап, но нужно ждать коллег фронтендеров, когда они смогут написать UI для нашего крутого бэка. Но, чтобы получить инвестиции, вы могли бы сделать telegram-бота, который интегрировался бы с вашим приложением, и
рекламодатели могли бы смотреть, создавать и обновлять рекламные кампании через него, а также смотреть статистику.

### Модерация текстов рекламных кампаний 
Предположим, что все круто и инкубатор PROD и инвесторы дали вам денег на масштабирование. Но вы этого, к сожалению,
делать не можете, ведь какой-нибудь злой рекламодатель напишет в рекламном тексте матерные слова и у вас будут
репутационные проблемы. Для этого реализуйте модерацию в вашей платформе рекламы.

### Интеграция с LLM для генерации рекламных текстов 
У вас уже есть ML-модель от оргов. Но сейчас почти все стартапы любят добавлять слово AI, поэтому и вы не хотите
отставать от тренда и решили сделать суперфичу, чтобы рекламодатель мог сгенерировать текст рекламного объявления
исходя из его названия и названия рекламодателя через LLM. Предлагаем вам реализовать такую вот фичу

## Нефункциональные требования
Помимо функциональности приложения мы оцениваем дополнительные параметры, которые тоже очень важны в промышленной
разработке. Про каждый из критериев написано ниже.

### Документация 
В README.md (и других md-файлах) вы должны рассказать о своем проекте.
Там должны быть следующие документы:

* Инструкция по запуску вашего приложения — как минимум информация о том, как устроен ваш `docker-compose.yml`.
* Демонстрация работы вашего приложения. Расскажите, как им пользоваться. Покажите основные сценарии,
опишите логику работы бота. Добавляйте скриншоты там, где не хватает. При этом старайтесь не писать огромные объемы
текста, описание сценариев должно быть кратким. Эту информацию будут изучать проверяющие, чтобы лучше понять задумку
вашего приложения.
* Схема данных СУБД. Опишите модели данных в вашей СУБД и связи между ними. Добавьте комментарии к сущностям и
таблицам, опишите, за что отвечают разные атрибуты в таблицах.
* Описание работы основных точек входа. Опишите работу метода показа рекламы, нарисуйте блок-схемы и диаграммы, чтобы
проверяющие лучше поняли ваш алгоритм.

### Тестирование 
Здесь нет четких критериев по проценту покрытия кодом. Вы должны
убедиться, что, когда вы вносите изменения в проект, старая функциональность
не ломается. Если в проекте совсем не будет тестов, проверяющие будут грустить. Тестируйте свой код!

### Чистота кода
Да, мы любим абстрактные формулировки! Жесткого контроля здесь
не будет, так как для каждого языка множество guideline для написания кода.
Однако структура и качество вашего кода должны быть на хорошем уровне.
Представьте, что вы пишете код, который потом будут ревьюить ваши коллеги.
Сделайте так, чтобы во время ревью было как можно меньше замечаний. Но есть еще более интересная фраза, как необходимо
писать код: пишите его так, как будто его будет читать псих, который знает, где вы живете. Удачи!

### Обоснованность решения
Расскажите, почему вы выбрали именно те СУБД и внешние зависимости,
которые у вас есть. Представьте, что вы защищаете техническое решение
перед своей командой и рассказываете, почему вы выбрали ту или иную технологию.

## FAQ Update 14.02.2025
1. Каким может быть ML скор и за что он отвечает?
Считайте, что ml-score >= 0 и является целым числом 4 байта. Если ML скор не передан для пары клиент рекламодатель, то считайте что он 0.
ML скор отвечает за релевантность и в некоторых тестах будет влиять на клик, а в некоторых нет, но в любом случае в итоговой метрике он учитывается.
2. Пагинация в методе получения рекламных кампаний. Параметры необязательны, тут на ваше усмотрение. 
Данный метод будет тестироваться проверяющими в ручную. Можете по-умолчанию поставить любые значения
3. Изменение даты в методе /time/advance, мы его будем всегда вызывать, по умолчанию он 0, считайте что вызывать без передачи дня его не могут.
4. Как будет производиться тестирование системы? Тестирующая системы будет добавлять рекламодателей, кампании, пользователей и скоры, 
а также вызывать методы просмотра и клика по объявлению, другие методы смотреться будут проверяющими в ручном режиме. 
Поэтому валидация других методов остается полностью на вас вы сами вольны возвращать любые ответы, какие посчитаете нужными
5. В данном задании представлены методы PUT для обновления, в случае если необязательные поля не переданы они считают null.
6. Можно ли настраивать CI, в этом этапе CI настраивать не нужно, вы можете проверять локально работу приложения.
7. Общая валидация. Валидация будет учитываться при ручном тестировании методов, которые не проверяет тестирующая система.
Поэтому вам стоит провалидировать значения дат, пола, возраста и т.д. Не нужно валидировать значения текстов на длину, можете проверить, что они не пустые
В openapi не возвращаются значения ошибок, вам их нужно продумать самим.
8. Для дополнительных фич можно добавлять новые методы. Их будут проверять проверяющие в ручном режиме. Для модерации можно попробовать использовать blacklist,
но явно он задаваться не должен, а должен настраиваться через дополнительное REST API, таким образом вы не храните у себя списка
плохих слов, а только используете то что задается через доп. методы, но это только одна из реализаций модерации можно придумать и другие.
9. Что делать если нет объявления для показа? Возвращайте 404 код ответа. Тут нет ничего страшного тестирующая система обработает это.
10. Штрафы в оценке берутся от общей суммы скоров, которые вы наберете за метод показа рекламы, а затем мы отнормируем ваш скор на шкалу 15 баллов. 
То есть мы суммируем с весами все пункты от прибыли до скорости работы, затем ранжируем их от лушчего до худшего по всем проектам и нормируем на общую шкалу в 15 баллов,
таким образом все решения будут соревноваться друг с другом
11. Если в таргетировании полях null, значит они работают для всех клиентов и не ограничиваются параметрами таргетирования.

## FAQ Update 17.02.2025
1. Можно ли поднимать LLM в контейнере? В целом можно, но на вашей ответственности будет запуск docker-compose
2. Как происходит оценивание работы алгоритма показа рекламы
   1. По каждой из 4 метрик мы ранжируем алгоритмы от лучшего к худшему (По скорости работы в обратном порядке от быстрого к медленному)
   2. Нормируем на шкалу до 15 баллов, другими словами проставляем в каждой метрике бал от 0 до 15.
   3. Берем взвешенную сумму всех метрик, вычитая штрафы 0.5 * m1 + 0.25 * m2 + 0.15 * m3 + 0.1 * m4 - штрафы и выставляем итоговую оценку за показ рекламы.
3. Как лучше реализовать модерацию, чтобы ее можно было проверить и при этом она не повлияла на тестирование? 
Добавьте возможность включать и отключать модерацию, например через отдельный REST метод и сделайте так, чтобы по-умолчанию она была выключена. 
Также не нужно хранить black лист с плохими словами, сделайте так, чтобы слова в него можно было добавлять также через API методы.
4. На каком порту необходимо разворачивать сервер? Ответ: 8080. Просто добавьте маппинг портов в docker-compose

## FAQ Update 20.02.2025
1. При реализации модерации и генерации автоматических текстов сделайте так, чтобы функциональность включалась 
по вызову какого-то метода включения, либо через env переменные, но по-умолчанию была отключена для тестирующей системы
2. Нужен ли какой-то префикс /api, нет префиксы не нужны, используйте urlы из openapi
3. В директории solution должен находится docker-compose.yml, через который запускается ваше приложение на 8080 порту
4. Мы добавили тесты для того, чтобы вам было легче подготовиться к сдаче работы. По окончании формируется файл json со следующими параметрами:
   * `error_5xx_count` — количество 500 ошибок 
   * `error_404_count` — количество 404 ошибок (просто для статистики, не учитывается в оценке)
   * `total_unique_impressions` — количество уникальных показов рекламы (просто для статистики, не учитывается в оценке)
   * `average_ml_score` — средний ML скор по всем показам рекламы. Чем больше значение, тем лучше.
   * `revenue` — сумма всех прибылей по всем показам рекламы. Чем больше значение, тем лучше. 
   * `exceed_impressions_limit_count` — количество показов рекламы, которые превысили лимит на 5%. Чем меньше значение, тем лучше.
   * `not_matching_targeting_count` — количество показов рекламы, которые не соответствуют таргетингу. Чем меньше значение, тем лучше. 
   * `average_response_time` — среднее время ответа на показ рекламы. Чем меньше значение, тем лучше.
   * `impressions_count_mean_relative_error` — среднее отношение количества показов рекламы к лимиту. Чем меньше значение, тем лучше.
Эти показатели влияют на оценку вашего решения. Как уже писали выше, мы будем сортировать все ваши решения по этим показателям и выставлять оценку по каждому от 1 до 15 и потом нормировать на общую шкалу 15 баллов. Тесты, которые у вас есть, простые, чтобы вы смогли что-то посмотреть.
В реальности тесты будут обширнее и больше. Посмотреть значения, которые мы задаем, можно в директории open_test.
5. Вам необходимо сделать так, чтобы по вашему решению собирался json файл с результатами тестирования, который будет содержать в себе все вышеописанные параметры.


Надеемся, что вам станет лучше понятно условие и суть задачи. Приятного кодинга!